<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Downloads | Grepfox</title>
  <link href="https://fonts.googleapis.com/css?family=Inter:400,700|Poppins:400,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <style>
    :root {
      --explorer-bg: rgba(255,255,255,0.91);
      --explorer-shadow: 0 8px 32px rgba(28,36,108,0.07);
      --explorer-accent: #3284fc;
      --explorer-border: #dbeafe;
    }
    body {
      background: linear-gradient(120deg, #e0e7ff 0%, #f0f7fa 100%);
    }
    .explorer-window {
      max-width: 700px;
      margin: 2rem auto 3rem auto;
      background: var(--explorer-bg);
      border-radius: 18px;
      box-shadow: var(--explorer-shadow);
      padding: 1.3rem 1.2rem 2rem 1.2rem;
      overflow: hidden;
      position: relative;
    }
    .explorer-toolbar {
      display: flex;
      gap: 1.1rem;
      align-items: center;
      background: transparent;
      margin-bottom: 1rem;
      height: 36px;
      font-size: 1.12rem;
    }
    .explorer-toolbar .toolbar-btn {
      background: #f6fafd;
      border: none;
      color: var(--explorer-accent);
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.05rem;
      padding: 0.4rem 1rem;
      transition: background .2s, box-shadow .2s;
      box-shadow: 0 2px 8px rgba(30,120,220,0.04);
      display: flex;
      align-items: center;
      gap: 0.5em;
    }
    .explorer-toolbar .toolbar-btn:hover {
      background: #e3edff;
      box-shadow: 0 2px 16px rgba(50,120,240,0.08);
    }
    .explorer-toolbar .toolbar-path {
      flex: 1;
      color: #222e;
      font-weight: 500;
      font-family: 'Poppins', sans-serif;
      white-space: nowrap;
      overflow-x: auto;
    }
    .explorer-list {
      display: block;
      border-radius: 12px;
      background: none;
      padding-left: 0;
      margin-top: 1.7rem;
    }
    .explorer-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.95rem 0.7rem;
      background: rgba(245,248,255,0.74);
      border-radius: 8px;
      box-shadow: 0 2px 12px rgba(90,90,100,0.06);
      cursor: pointer;
      margin-bottom: 0.65rem;
      transition: background .18s, box-shadow .18s, transform .13s;
      text-decoration: none;
      color: #1d3557;
      font-size: 1.11rem;
      position: relative;
    }
    .explorer-item:hover, .explorer-item:focus {
      background: #eaf6ff;
      box-shadow: 0 8px 32px rgba(50,128,250,0.13);
      transform: translateY(-2px) scale(1.02);
      outline: none;
      text-decoration: none;
    }
    .explorer-item .icon {
      font-size: 2.05rem;
      color: var(--explorer-accent);
      margin-right: 0.2rem;
    }
    .explorer-item .label {
      font-size: 1.07rem;
      font-weight: 600;
      letter-spacing: .1px;
    }
    .explorer-item .fname {
      font-size: .98rem;
      color: #4466b1;
      letter-spacing: 0.15em;
      margin-left: auto;
    }
    @media (max-width: 560px) {
      .explorer-window { padding-left: 0.2rem; padding-right: 0.2rem;}
      .explorer-item { font-size: 1rem; padding: 0.7rem 0.2rem;}
      .explorer-item .icon { font-size: 1.5rem; }
    }
  </style>
    <script async src="https://scripts.withcabin.com/hello.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="logo">Grepfox</div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="downloads.html" class="active">Downloads</a></li>
        <li><a href="blog.html">Blog</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
    <button id="toggle-theme" title="Toggle dark mode"
      style="font-size: 1.3rem; margin-left: 1rem; background:none; border:none; cursor: pointer;">üåô</button>
  </header>
  <main>
    <div class="explorer-window">

      <!-- Toolbar -->
      <div class="explorer-toolbar">
        <button class="toolbar-btn" onclick="goBack()" title="Up one folder">‚¨ÖÔ∏è Back</button>
        <span class="toolbar-path" id="explorerPath">Root</span>
      </div>

      <!-- File/folder list -->
      <div class="explorer-list" id="explorerList"></div>

    </div>
  </main>

  <footer>
    <div class="footer-content">
      <div>¬© 2025 Grepfox. All rights reserved.</div>
    </div>
  </footer>

<script>
const fileSystem = {
  name: 'root',
  folders: [
    {
      name: 'vayu',
      folders: [
        {
          name: 'yaap',
          folders: [
            { name: 'gapps', folders: [], files: [
                { name: 'YAAP-16-HOMEMADE-vayu-20250630', ext: 'zip', url: 'https://sourceforge.net/projects/yaap-release/files/16/gapps/YAAP-16-HOMEMADE-vayu-20250630.zip/download' }
            ] },
            { name: 'vanilla', folders: [], files: [
                 { name: 'YAAP-16-HOMEMADE-vayu-20250630', ext: 'zip', url: 'https://sourceforge.net/projects/yaap-release/files/16/vanilla/YAAP-16-HOMEMADE-vayu-20250630.zip/download' }
            ] }
          ],
          files: [
                { name: 'All Builds', ext: 'link', url: 'https://sourceforge.net/projects/yaap-release/files/16/' }
          ]
        },
        // {
        //   name: 'Lineage',
        //   folders: [{ name: 'archive', folders: [], files: [] }],
        //   files: []
        // },
        // {
        //   name: 'Axion',
        //   folders: [{ name: 'archive', folders: [], files: [] }],
        //   files: []
        // },
        {
          name: 'TWRP',

          files: [
             { name: 'recovery (for a14-16)', ext: 'img', url: 'https://github.com/sm8150-playground/vayu-twrp/releases/download/07-july-25/recovery.img' },
             { name: 'recovery (for a11)', ext: 'img', url: 'https://github.com/grepfox/Action-TWRP-Builder/releases/download/15816724808/recovery.img' }
            ]
        }
      ],
      files: []
    }
  ],
  files: []
};

let path = ['root'];
let currentDir = fileSystem;

function displayPath() {
  document.getElementById("explorerPath").textContent = path.join(' / ');
}

// Render folders & files as one-per-line (vertical)
function renderExplorer(dir) {
  const container = document.getElementById("explorerList");
  container.innerHTML = '';
  // Folders
  dir.folders?.forEach(f => {
    container.innerHTML += `
      <div class="explorer-item" tabindex="0" onclick="openFolder('${[...path, f.name].join('/')}')" title="Open ${f.name}">
        <span class="icon">üìÅ</span>
        <span class="label">${f.name}</span>
        <span class="fname">FOLDER</span>
      </div>
      <br>
    `;
  });
  // Files
  dir.files?.forEach(f => {
    let emoji = 'üìÑ', extup = f.ext ? f.ext.toUpperCase() : '';
    if (['zip','rar','7z'].includes(f.ext)) emoji = 'üóúÔ∏è';
    else if (['jpg','jpeg','png','webp'].includes(f.ext)) emoji = 'üñºÔ∏è';
    else if (['apk'].includes(f.ext)) emoji = 'üì¶';
    else if (['pdf'].includes(f.ext)) emoji = 'üìÑ';
    container.innerHTML += `
      <a class="explorer-item" href="${f.url}" download title="Download ${f.name}.${f.ext}">
        <span class="icon">${emoji}</span>
        <span class="label">${f.name}.${f.ext || ''}</span>
        <span class="fname">${extup}</span>
      </a>
      <br>
    `;
  });
}

function openFolder(folderPath) {
  path = folderPath.split('/');
  let dir = fileSystem;
  for (let i = 1; i < path.length; ++i) {
    dir = dir.folders.find(f => f.name === path[i]);
    if (!dir) break;
  }
  currentDir = dir || fileSystem;
  displayPath();
  renderExplorer(currentDir);
}

function goBack() {
  if (path.length > 1) {
    path.pop();
    openFolder(path.join('/'));
  }
}

document.addEventListener("DOMContentLoaded", function() {
  displayPath();
  renderExplorer(currentDir);
});
</script>
<script src="mode.js"></script>
</body>
</html>
